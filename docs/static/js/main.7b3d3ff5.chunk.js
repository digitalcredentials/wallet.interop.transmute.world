(this["webpackJsonpwallet-interop-transmute-world"]=this["webpackJsonpwallet-interop-transmute-world"]||[]).push([[0],{144:function(e,t){},165:function(e,t){},256:function(e,t){},261:function(e,t){},262:function(e,t){},266:function(e,t){},355:function(e,t){},484:function(e,t,a){e.exports=a.p+"static/media/logo.33b194d8.svg"},492:function(e,t,a){e.exports=a.p+"static/media/key.7d03fa36.svg"},533:function(e,t,a){e.exports=a(774)},538:function(e,t,a){},566:function(e,t){},567:function(e,t){},583:function(e,t){},584:function(e,t){},588:function(e,t){},590:function(e,t){},620:function(e,t){},621:function(e,t){},774:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"setKeystoreProp",(function(){return K}));var r={};a.r(r),a.d(r,"setTmuiProp",(function(){return J}));var o=a(0),i=a.n(o),c=a(23),l=a.n(c),s=(a(538),a(241)),u=a(181),p=a(73),d=a(466),m=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function f(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var y=a(43),h=a(36),b=a(312),g=a(409),k=a(467),E=a.n(k),v=a(468),O=a(469),w=a(470),j=a.n(w),C=a(38),S=a(863),x=a(865),K=Object(x.a)("keystore/SET_TMUI_PROP",(function(e){return e})),T=Object(y.a)({},{apiRoot:"https://did-edv.web.app/edvs"}),P=Object(S.a)(Object(C.a)({},K,(function(e,t){var a=t.payload;return Object(y.a)({},e,{},a)})),T),D=a(120),W=Object(p.c)((function(e){return{keystore:e.keystore}}),Object(y.a)({},n)),N=a(7),F=a.n(N),I=a(12),R=a(180),L=a(472),M=a.n(L),B=a(185),U=a.n(B),A=M.a.driver().keyToDidDoc,z=Object(D.b)({doImportKeystore:function(e){var t=e.setKeystoreProp;return(function(){var e=Object(I.a)(F.a.mark((function e(a){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({keystore:{data:a}});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},doCreateWalletKeystore:function(e){var t=e.setKeystoreProp;return(Object(I.a)(F.a.mark((function e(){var a,n,r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.Ed25519KeyPair.generate();case 2:a=e.sent,n=A(a),r=U.a.create({keys:[{type:"assymetric",encoding:"base58",didPublicKeyEncoding:"publicKeyBase58",publicKey:a.publicKeyBase58,privateKey:a.privateKeyBase58,tags:["Ed25519VerificationKey2018",n.publicKey[0].id,"web"],notes:""}]}),t({keystore:{data:{keys:r.keys}}});case 6:case"end":return e.stop()}}),e)}))))},doUpdateKeystore:function(e){var t=e.setKeystoreProp;return(function(){var e=Object(I.a)(F.a.mark((function e(a){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=U.a.create({keys:Object.values(JSON.parse(a))}),t({keystore:{data:{keys:n.keys}}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},doDeleteKeystore:function(e){var t=e.setKeystoreProp;return(Object(I.a)(F.a.mark((function e(){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({keystore:null});case 1:case"end":return e.stop()}}),e)}))))},doToggleKeystore:function(e){var t=e.keystore,a=e.setKeystoreProp;return(function(){var e=Object(I.a)(F.a.mark((function e(n){var r,o,i;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({loading:!0});try{"string"===typeof t.keystore.data?((o=U.a.create(t.keystore.data)).unlock(n),a({keystore:{data:{keys:o.keys}}}),r="Unlocked keystore."):((i=U.a.create({keys:Object.values(t.keystore.data.keys)})).lock(n),a({keystore:{data:i.ciphered}}),r="Locked keystore."),console.log(r)}catch(c){console.error(c)}a({loading:!1});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}),H={reducer:P,container:Object(D.a)(W,z)},J=Object(x.a)("tmui/SET_TMUI_PROP",(function(e){return e})),V=Object(S.a)(Object(C.a)({},J,(function(e,t){var a=t.payload;return Object(y.a)({},e,{},a)})),{isPrimaryDrawerOpen:!1,isSpeedDialogOpen:!1,activeTabIndex:0,currentRole:{label:"Tier 0",value:"tier0"}}),Y=Object(p.c)((function(e){return{tmui:e.tmui}}),Object(y.a)({},r)),_=Object(D.b)({setTmuiProp:function(e){var t=e.setTmuiProp;return function(e){t(e)}},doToggleSpeedDial:function(e){var t=e.setTmuiProp;return function(e){t({isSpeedDialogOpen:e})}},doSelectActiveTab:function(e){var t=e.setTmuiProp;return function(e){t({activeTabIndex:e})}},doFabClick:function(e){var t=e.setTmuiProp;return function(e){t({fabClick:e})}}}),G={reducer:V,container:Object(D.a)(Y,_)},$=a(106),q=Object($.a)(),Q={router:Object(u.b)(q),keystore:H.reducer,tmui:G.reducer},X=a(493),Z=a(495),ee=a(15),te=a(18),ae=a(46),ne=a(37),re=a(47),oe=a(494),ie=a(679),ce=a(117),le='"Rajdhani"',se='"Roboto Condensed"',ue='"Lato"',pe=function(e){function t(){return Object(ee.a)(this,t),Object(ae.a)(this,Object(ne.a)(t).apply(this,arguments))}return Object(re.a)(t,e),Object(te.a)(t,[{key:"render",value:function(){var e=this.props.children,t=Object(oe.a)({splashImage:"",palette:{type:"light",primary:{light:Object(ce.lighten)("#594aa8",.07),main:"#594aa8",dark:Object(ce.darken)("#594aa8",.07)},secondary:{light:Object(ce.lighten)("#fcb373",.07),main:"#fcb373",dark:Object(ce.darken)("#fcb373",.07)}},typography:{useNextVariants:!0,fontSize:16,fontFamily:[le,se,ue].join(","),h1:{fontFamily:le,fontWeight:600},h2:{fontFamily:le,fontWeight:600},h3:{fontFamily:le,fontWeight:600},h4:{fontFamily:se,textTransform:"uppercase",letterSpacing:"0.1em",fontWeight:400},h5:{fontFamily:se,textTransform:"uppercase",letterSpacing:"0.1em",fontWeight:400},h6:{fontFamily:se,textTransform:"uppercase",letterSpacing:"0.1em",fontWeight:400},subtitle1:{fontFamily:le,fontWeight:400},subtitle2:{fontFamily:se,fontWeight:400},body1:{fontFamily:ue,fontWeight:400},body2:{fontFamily:ue,fontWeight:400},button:{fontFamily:se,fontWeight:400},caption:{fontFamily:se,fontWeight:400},overline:{fontFamily:se,letterSpacing:"0.15em",textTransform:"uppercase",fontWeight:300}},overrides:{MuiInput:{input:{fontFamily:ue}},MuiInputLabel:{root:{fontFamily:se}},MuiAppBar:{root:{}},MuiButton:{contained:{boxShadow:"none"}}}});return i.a.createElement(ie.a,{theme:t},e)}}]),t}(o.Component),de=a(835),me=a(496),fe=a(2),ye=a(475),he=a.n(ye),be=a(479),ge=a.n(be),ke=a(308),Ee=a.n(ke),ve=a(481),Oe=a.n(ve),we=a(411),je=a(412),Ce=a(220),Se=a(776),xe=a(478),Ke=a.n(xe),Te=a(480),Pe={success:he.a,warning:Ke.a,error:ge.a,info:Ee.a,default:Ee.a},De=Object(Te.a)((function(e){return{success:{backgroundColor:we.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:je.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));var We=function(e){var t=De(),a=e.className,n=e.message,r=e.onClose,o=e.variant,c=Object(me.a)(e,["className","message","onClose","variant"]),l=Pe[o];return i.a.createElement(Se.a,Object.assign({className:Object(fe.a)(t[o],a),"aria-describedby":"client-snackbar",message:i.a.createElement("span",{id:"client-snackbar",className:t.message},i.a.createElement(l,{className:Object(fe.a)(t.icon,t.iconVariant)}),n),action:[i.a.createElement(Ce.a,{key:"close","aria-label":"close",color:"inherit",onClick:r},i.a.createElement(Oe.a,{className:t.icon}))]},c))};var Ne=function(e){var t=e.tmui.snackBarMessage||{variant:"default",vertical:"bottom",horizontal:"right"},a=t.open,n=t.variant,r=t.message,o=t.autoHideDuration,c=t.vertical,l=t.horizontal,s=function(t,a){"clickaway"!==a&&e.setTmuiProp({snackBarMessage:Object(y.a)({},e.tmui.snackBarMessage,{open:!1})})};return i.a.createElement("div",null,i.a.createElement(de.a,{anchorOrigin:{vertical:c,horizontal:l},open:a,autoHideDuration:o,onClose:s},i.a.createElement(We,{onClose:s,variant:n,message:r})))},Fe=a(91),Ie=a(838),Re=a(837),Le=a(85),Me=a(461),Be=a(482),Ue=a.n(Be),Ae=a(414),ze=a(63),He=a(25),Je=a(836),Ve=a(413),Ye=a(212),_e=a(483),Ge=a.n(_e),$e=a(222),qe=a.n($e),Qe=Object(Te.a)((function(e){var t;return{root:{},grow:{flexGrow:1},drawer:Object(C.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:Object(C.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)"),marginLeft:240}),menuButton:Object(C.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:240},sectionDesktop:Object(C.a)({display:"none"},e.breakpoints.up("sm"),{display:"flex"}),sectionMobile:Object(C.a)({display:"flex"},e.breakpoints.up("sm"),{display:"none"}),content:(t={},Object(C.a)(t,e.breakpoints.up("sm"),{marginLeft:240}),Object(C.a)(t,"flexGrow",1),Object(C.a)(t,"padding",e.spacing(3)),t)}}));var Xe=function(e){var t=e.container,a=Qe(),n=Object(He.a)(),r=i.a.useState(!1),o=Object(Fe.a)(r,2),c=o[0],l=o[1],s=i.a.useState(null),u=Object(Fe.a)(s,2),p=u[0],d=u[1],m=i.a.useState(null),f=Object(Fe.a)(m,2),y=f[0],h=f[1],b=Boolean(p),g=Boolean(y),k=function(){l(!c)},E=function(){h(null)},v=i.a.createElement(Ye.a,{anchorEl:p,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:b,onClose:function(){d(null),E()}},e.rightHandAccountMenu.map((function(e){return e.displaySmUp?"":i.a.createElement(Ve.a,{key:e.label,onClick:e.onClick},e.label)}))),O=i.a.createElement(Ye.a,{anchorEl:y,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:g,onClose:E},e.rightHandAccountMenu.map((function(e){return i.a.createElement(Ve.a,{key:e.label,onClick:e.onClick},i.a.createElement(Ce.a,{"aria-label":e.ariaLabel,color:"inherit"},i.a.createElement(Je.a,{badgeContent:e.badgeContent,color:"secondary"},e.icon)),i.a.createElement("p",null,e.label))})));return i.a.createElement("div",{className:a.root},i.a.createElement(Re.a,null),i.a.createElement(Ie.a,{position:"fixed",className:a.appBar},i.a.createElement(Ae.a,null,i.a.createElement(Ce.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:k,className:a.menuButton},i.a.createElement(Ue.a,null)),e.headerImage?i.a.createElement("img",{src:e.headerImage,alt:e.headerText,className:a.title,style:{height:"28px"}}):i.a.createElement(ze.a,{className:a.title,variant:"h6",noWrap:!0},e.headerText),i.a.createElement("div",{className:a.grow}),i.a.createElement("div",{className:a.sectionDesktop},e.rightHandAccountMenu.map((function(e){return e.displaySmUp?i.a.createElement(Ce.a,{key:e.ariaLabel,"aria-label":e.ariaLabel,color:"inherit"},i.a.createElement(Je.a,{color:"secondary",badgeContent:e.badgeContent},e.icon)):""})),i.a.createElement(Ce.a,{edge:"end","aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",onClick:function(e){d(e.currentTarget)},color:"inherit"},i.a.createElement(Ge.a,null))),i.a.createElement("div",{className:a.sectionMobile},i.a.createElement(Ce.a,{"aria-label":"show more","aria-controls":"primary-search-account-menu-mobile","aria-haspopup":"true",onClick:function(e){h(e.currentTarget)},color:"inherit"},i.a.createElement(qe.a,null))))),O,v,i.a.createElement("nav",{className:a.drawer,"aria-label":"drawer menu"},i.a.createElement(Me.a,{smUp:!0,implementation:"css"},i.a.createElement(Le.a,{container:t,variant:"temporary",anchor:"rtl"===n.direction?"right":"left",open:c,onClose:k,classes:{paper:a.drawerPaper},ModalProps:{keepMounted:!0}},e.drawer)),i.a.createElement(Me.a,{xsDown:!0,implementation:"css"},i.a.createElement(Le.a,{classes:{paper:a.drawerPaper},variant:"permanent",open:!0},e.drawer))),i.a.createElement("main",{className:a.content},i.a.createElement("div",{className:a.toolbar}),i.a.createElement("div",{style:{maxWidth:"100%"}},e.content)))},Ze=a(782),et=a(840),tt=a(415),at=a(781),nt=a(225),rt=a.n(nt),ot=a(223),it=a.n(ot),ct=a(224),lt=a.n(ct),st=[{label:"Home",icon:i.a.createElement(it.a,null),showForRoles:["tier0","tier1","tier2"],onClick:function(){q.push("/")}},{label:"Keystore",icon:i.a.createElement(lt.a,null),showForRoles:["tier0","tier1","tier2"],onClick:function(){q.push("/keystore")}},{label:"Source Code",icon:i.a.createElement(rt.a,null),showForRoles:["tier0","tier1","tier2"],onClick:function(){window.open("https://github.com/transmute-industries/wallet.interop.transmute.world","_blank")}}];var ut=function(e){var t=e.tmui,a=(e.setTmuiProp,i.a.useState({currentRole:t.currentRole})),n=Object(Fe.a)(a,1)[0];return i.a.createElement(i.a.Fragment,null,i.a.createElement(at.a,null,st.filter((function(e){return-1!==e.showForRoles.indexOf(n.currentRole.value)})).map((function(e){return i.a.createElement(Ze.a,{button:!0,key:e.label,onClick:e.onClick},i.a.createElement(et.a,null,e.icon),i.a.createElement(tt.a,{primary:e.label}))}))))},pt=[{badgeContent:0,ariaLabel:"home",icon:i.a.createElement(it.a,null),label:"Home",onClick:function(){q.push("/")}},{badgeContent:0,ariaLabel:"keystore",icon:i.a.createElement(lt.a,null),label:"Keystore",onClick:function(){q.push("/keystore")}},{badgeContent:0,label:"Source Code",ariaLabel:"source",icon:i.a.createElement(rt.a,null),onClick:function(){window.open("https://github.com/transmute-industries/did-key","_blank")}}],dt=a(484),mt=a.n(dt),ft=function(e){var t=e.tmui,a=e.setTmuiProp,n=e.children;return i.a.useEffect((function(){Object(I.a)(F.a.mark((function e(){var t,a,n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.a();case 3:return t=window.origin,a="".concat(t,"/worker.html"),e.next=7,Z.a({url:a});case 7:return n=e.sent,e.next=10,n.credentialManager.hints.set("test",{name:"TestUser",enabledTypes:["VerifiablePresentation","VerifiableCredential","UniversityDegreeCredential"]});case 10:console.log("Wallet registered."),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error("Error in loadOnce:",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))()})),i.a.createElement(pe,null,i.a.createElement(Xe,{rightHandAccountMenu:pt,headerImage:mt.a,drawer:i.a.createElement(ut,{tmui:t,setTmuiProp:a}),content:n}),i.a.createElement(Ne,{tmui:t,setTmuiProp:a}))},yt=a(485),ht=a.n(yt),bt=(a(211),a(238)),gt=a.n(bt),kt=(a(455),a(456),function(e){function t(){return Object(ee.a)(this,t),Object(ae.a)(this,Object(ne.a)(t).apply(this,arguments))}return Object(re.a)(t,e),Object(te.a)(t,[{key:"render",value:function(){var e=this.props,t=e.jsonObject,a=e.onChange;return i.a.createElement(gt.a,{mode:"json",theme:"github",style:Object(y.a)({},this.props.style,{width:"100%"}),onChange:function(e){a(e)},readOnly:void 0===a,wrapEnabled:!0,name:"JSONEditorEditor",value:JSON.stringify(t,null,2),editorProps:{$blockScrolling:!0}})}}]),t}(o.Component)),Et=a(213),vt=a.n(Et),Ot=window.Cookies;function wt(){var e=Ot.get("walletContents");return e?JSON.parse(atob(e)):null}var jt=function(){var e=i.a.useState({walletContents:null,walletRows:[]}),t=Object(Fe.a)(e,2),a=t[0],n=t[1];return i.a.useEffect((function(){null===a.walletContents&&Object(I.a)(F.a.mark((function e(){var t,r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=wt(),console.log(t),r=[],Object.values(t).forEach((function(e){e.id?r.push(e):e.verifiableCredential&&e.verifiableCredential.forEach((function(e){r.push(e)}))})),n(Object(y.a)({},a,{walletContents:t,walletRows:r}));case 5:case"end":return e.stop()}}),e)})))()}),[]),i.a.createElement(ht.a,{title:"Wallet Contents",columns:[{title:"ID",field:"id"},{title:"Type",field:"type",render:function(e){return 2===e.type.length?vt.a.startCase(e.type[1]):e.type.map(vt.a.startCase).join(", ")}}],data:a.walletRows,options:{search:!0},detailPanel:function(e){var t=Object(y.a)({},e);return delete t.tableData,i.a.createElement(kt,{jsonObject:t})}})},Ct=function(e){var t=e.tmui,a=e.setTmuiProp;return i.a.createElement(ft,{tmui:t,setTmuiProp:a},i.a.createElement(jt,null))},St=Object(h.compose)(G.container)((function(e){return i.a.createElement(Ct,e)})),xt=a(848),Kt=a(462),Tt=a(847),Pt=a(851),Dt=a(852),Wt=a(850),Nt=a(849),Ft=a(853),It=a(437),Rt=a(443),Lt=a(155),Mt=a(239),Bt=a.n(Mt),Ut=a(311),At=a(858),zt=a(859),Ht=a(860),Jt=a(861),Vt=a(862),Yt=a(5),_t=a(866),Gt=a(857),$t=a(856);var qt=Object(Yt.a)((function(e){return{root:{width:"100%",marginBottom:"4px"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular,wordBreak:"break-all"},panel:{backgroundColor:we.a[200]}}}))((function(e){var t=e.classes,a=e.panels;return i.a.createElement("div",{className:t.root},a&&a.map((function(e){return i.a.createElement(_t.a,{disabled:e.disabled,key:e.title,className:t.panel},i.a.createElement(Gt.a,{expandIcon:i.a.createElement(Bt.a,null)},i.a.createElement(ze.a,{className:t.heading},e.title)),i.a.createElement($t.a,null,e.children))})))})),Qt=a(492),Xt=a.n(Qt),Zt=Object(Te.a)((function(e){return{card:{maxWidth:512},media:{height:0,backgroundSize:"contain",paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}}}));function ea(e){switch(e.status){case"empty":return i.a.createElement(At.a,null);case"create":return i.a.createElement(zt.a,null);case"locked":return i.a.createElement(Ht.a,null);case"unlocked":default:return i.a.createElement(Jt.a,null)}}function ta(e){switch(e.status){case"empty":case"locked":return Rt.a[500];case"unlocked":default:return Lt.a[500]}}function aa(e){var t=e.status,a=e.title,n=e.subheader,r=e.keystore,o=e.doImportKeystore,c=e.doDeleteKeystore,l=e.doCreateWalletKeystore,s=e.onOpenKeystoreLockDialog,u=e.onOpenKeystoreEditDialog,p=Zt(),d=i.a.useState(!1),m=Object(Fe.a)(d,2),f=m[0],y=m[1],h=i.a.useState(null),b=Object(Fe.a)(h,2),g=b[0],k=b[1],E=function(){k(null)};return i.a.createElement(xt.a,{className:p.card},i.a.createElement("input",{style:{display:"none"},id:"keystore-file-input",multiple:!0,onChange:function(e){Object.keys(e.target.files).map((function(t){var a=e.target.files[t],n=new FileReader;return n.onload=function(e){o(e.target.result)},n.readAsText(a)}))},type:"file"}),i.a.createElement(Pt.a,{avatar:i.a.createElement(Tt.a,{"aria-label":"recipe",style:{backgroundColor:ta({status:t})}},i.a.createElement(ea,{status:t})),title:a,action:i.a.createElement(i.a.Fragment,null,"empty"===t?i.a.createElement(i.a.Fragment,null):i.a.createElement(i.a.Fragment,null,i.a.createElement(Ce.a,{"aria-label":"settings","aria-controls":"simple-menu","aria-haspopup":"true",variant:"contained",onClick:function(e){k(e.currentTarget)}},i.a.createElement(qe.a,null)),i.a.createElement(Ye.a,{id:"simple-menu",anchorEl:g,keepMounted:!0,open:Boolean(g),onClose:E},i.a.createElement(Ve.a,{onClick:function(){c(),E()}},"Delete"),"unlocked"===t&&i.a.createElement(Ve.a,{onClick:function(){u(),E()}},"Edit"),i.a.createElement(Ve.a,{onClick:function(){s(),E()}},"locked"===t?"Unlock":"Lock"))))}),"empty"!==t&&i.a.createElement(Dt.a,{className:p.media,image:Xt.a,title:"Keystore"}),i.a.createElement(Wt.a,null,i.a.createElement(ze.a,{variant:"body2",color:"textSecondary",component:"p"},n)),"empty"===t&&i.a.createElement(Nt.a,null,i.a.createElement(It.a,{"aria-label":"import",onClick:function(){document.getElementById("keystore-file-input").click()},endIcon:i.a.createElement(ea,{status:t})},"Import"),i.a.createElement(It.a,{onClick:function(){l()},endIcon:i.a.createElement(ea,{status:"create"})},"Create")),"empty"!==t&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Nt.a,{disableSpacing:!0},"locked"===t&&i.a.createElement(Ce.a,{"aria-label":"Export Keystore",onClick:function(){!function(e,t){var a=document.createElement("a");a.setAttribute("href","data:text/plain;charset=utf-8,".concat(encodeURIComponent(t))),a.setAttribute("download",e),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}("keystore.txt",r.data)}},i.a.createElement(Vt.a,null)),"unlocked"===t&&i.a.createElement(Ce.a,{className:Object(fe.a)(p.expand,Object(C.a)({},p.expandOpen,f)),onClick:function(){y(!f)},"aria-expanded":f,"aria-label":"show more"},i.a.createElement(Bt.a,null))),i.a.createElement(Ft.a,{in:f,timeout:"auto",unmountOnExit:!0},i.a.createElement(Wt.a,null,"unlocked"===t&&Object.keys(r.data.keys).map((function(e){var t=r.data.keys[e];return i.a.createElement(qt,{key:e,panels:[{title:"".concat(t.tags[0]," ").concat(e.substring(0,8),"..."),children:i.a.createElement("div",{style:{width:"100%"}},i.a.createElement(ze.a,{variant:"body2"},t.notes),i.a.createElement("br",null),i.a.createElement("div",null,t.tags.map((function(e){return i.a.createElement(Ut.CopyToClipboard,{key:e,text:e,onCopy:function(){alert("Copied ".concat(e," to clipboard"))}},i.a.createElement(Kt.a,{key:e,label:e,variant:"outlined",style:{margin:"4px"}}))}))),i.a.createElement("br",null),i.a.createElement(Ut.CopyToClipboard,{text:t.publicKey,onCopy:function(){alert("Copied public key to clipboard")}},i.a.createElement(It.a,{style:{marginTop:"16px"},fullWidth:!0,variant:"contained"},"Copy Public Key")))}]})}))))))}var na=a(436),ra=a(842),oa=a(844),ia=a(843),ca=a(854),la=a(855),sa=function(e){function t(){var e,a;Object(ee.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(ae.a)(this,(e=Object(ne.a)(t)).call.apply(e,[this].concat(r)))).state={password:""},a.handleClose=function(){a.setState({password:""}),a.props.onClose()},a.handleChange=function(e){return function(t){a.setState(Object(C.a)({},e,t.target.value))}},a.handleSubmit=function(e){e.preventDefault(),a.props.doToggleKeystore(a.state.password),a.setState({password:""})},a}return Object(re.a)(t,e),Object(te.a)(t,[{key:"render",value:function(){var e=this.state.password;return i.a.createElement("div",null,i.a.createElement(ra.a,{open:this.props.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},i.a.createElement(la.a,{id:"form-dialog-title"},"Enter Keystore Password"),i.a.createElement(ia.a,null,i.a.createElement(ca.a,null,this.props.message),i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement(na.a,{autoFocus:!0,margin:"dense",id:"password",label:"Password",type:"password",value:e,onChange:this.handleChange("password"),fullWidth:!0}))),i.a.createElement(oa.a,null,i.a.createElement(It.a,{onClick:this.handleClose,color:"primary"},"Cancel"),i.a.createElement(It.a,{onClick:this.handleSubmit,color:"primary",variant:"contained"},"locked"===this.props.keystoreState?"Unlock":"Lock"," ","Keystore"))))}}]),t}(i.a.Component),ua=function(e){function t(){return Object(ee.a)(this,t),Object(ae.a)(this,Object(ne.a)(t).apply(this,arguments))}return Object(re.a)(t,e),Object(te.a)(t,[{key:"render",value:function(){var e=this.props,t=e.value,a=e.onChange;return i.a.createElement(gt.a,{mode:"json",theme:"github",style:{width:"100%"},onChange:a,name:"Keystore Editor",value:t,editorProps:{$blockScrolling:!0}})}}]),t}(i.a.Component),pa=function(e){function t(){var e,a;Object(ee.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(ae.a)(this,(e=Object(ne.a)(t)).call.apply(e,[this].concat(r)))).state={isSetup:!1,keystore:"{}"},a.handleClose=function(){a.setState({isSetup:!1}),a.props.onClose()},a.handleChange=function(e){return function(t){a.setState(Object(C.a)({},e,t.target.value))}},a.handleSubmit=function(e){e.preventDefault(),a.props.doUpdateKeystore(a.state.keystore),a.props.onClose()},a}return Object(re.a)(t,e),Object(te.a)(t,[{key:"componentDidUpdate",value:function(){if(!this.state.isSetup&&this.props.keystore&&"object"===typeof this.props.keystore.data){var e=JSON.stringify(this.props.keystore.data.keys,null,2);this.state.keystore!==e&&(this.setState({keystore:e}),this.setState({isSetup:!0}))}}},{key:"render",value:function(){var e=this,t=this.state.keystore;return i.a.createElement("div",null,i.a.createElement(ra.a,{fullScreen:!0,open:this.props.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},i.a.createElement(la.a,{id:"form-dialog-title"},"Edit Keystore"),i.a.createElement(ia.a,null,i.a.createElement(ua,{value:t,onChange:function(t){e.setState({keystore:t})}})),i.a.createElement(oa.a,null,i.a.createElement(It.a,{onClick:this.handleClose,color:"primary"},"Cancel"),i.a.createElement(It.a,{onClick:this.handleSubmit,color:"primary",variant:"contained"},"Save"))))}}]),t}(i.a.Component),da=function(e){function t(){var e,a;Object(ee.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(ae.a)(this,(e=Object(ne.a)(t)).call.apply(e,[this].concat(r)))).state={isKeystoreLockDialogOpen:!1,isKeystoreEditDialogOpen:!1},a.onOpenKeystoreLockDialog=function(){a.setState({isKeystoreLockDialogOpen:!0})},a.onOpenKeystoreEditDialog=function(){a.setState({isKeystoreEditDialogOpen:!0})},a.doToggleKeystore=function(e){a.setState({isKeystoreLockDialogOpen:!1}),a.props.doToggleKeystore(e)},a}return Object(re.a)(t,e),Object(te.a)(t,[{key:"getKeystoreContext",value:function(e){return e&&null!==e.data?"string"===typeof e.data?{status:"locked",title:"You have encrypted keys",subheader:"You will need to unlock your keys with your password before they can be used. You can export them while they are locked, but not after you unlock them.",passwordPrompt:"Enter the password used when the keystore was created or last locked."}:"object"===typeof e.data?{status:"unlocked",title:"You have keys",subheader:"Your keys are ready for use. If you wish to reuse these keys in another application, you must lock this keystore and then export it.",passwordPrompt:"Enter a password to lock this keystore."}:void 0:{status:"empty",title:"You have no keys",subheader:"If you want to use keys generated by another application use import. If you want to generate a keystore for the first time, click create.",passwordPrompt:""}}},{key:"render",value:function(){var e=this,t=this.props,a=t.doImportKeystore,n=t.doDeleteKeystore,r=t.doCreateWalletKeystore,o=t.doUpdateKeystore,c=this.props.keystore.keystore,l=this.getKeystoreContext(c),s=l.status,u=l.title,p=l.subheader,d=l.passwordPrompt,m=this.state,f=m.isKeystoreLockDialogOpen,y=m.isKeystoreEditDialogOpen;return i.a.createElement(i.a.Fragment,null,i.a.createElement(aa,{status:s,title:u,subheader:p,keystore:c,doImportKeystore:a,doDeleteKeystore:n,doCreateWalletKeystore:r,onOpenKeystoreLockDialog:this.onOpenKeystoreLockDialog,onOpenKeystoreEditDialog:this.onOpenKeystoreEditDialog}),i.a.createElement(sa,{message:d,open:f,keystoreState:s,doToggleKeystore:this.doToggleKeystore,onClose:function(){e.setState({isKeystoreLockDialogOpen:!1})}}),i.a.createElement(pa,{open:y,keystore:c,doUpdateKeystore:o,onClose:function(){e.setState({isKeystoreEditDialogOpen:!1})}}))}}]),t}(i.a.Component),ma=function(e){return i.a.createElement(ft,e,i.a.createElement(da,e))},fa=[{path:"/",exact:!0,component:St},{path:"/keystore",exact:!0,component:Object(h.compose)(G.container,H.container)((function(e){return i.a.createElement(ma,e)}))}],ya=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={key:"root",whitelist:["keystore"],storage:E.a},a=[O.a,Object(g.a)(q)];var n=Object(h.createStore)(Object(b.a)(t,Object(h.combineReducers)(Object(y.a)({},Q,{},e))),Object(v.composeWithDevTools)(Object(h.compose)(h.applyMiddleware.apply(void 0,a),j.a))),r=Object(b.b)(n);return{store:n,persistor:r,history:q}}(),ha=ya.store,ba=ya.persistor,ga=ya.history;l.a.render(i.a.createElement(p.a,{store:ha},i.a.createElement(d.PersistGate,{persistor:ba},i.a.createElement(u.a,{history:ga},i.a.createElement(s.c,null,fa.map((function(e){var t=e.exact,a=e.path,n=e.component;return i.a.createElement(s.a,{key:a,exact:t,path:a,component:n})})))))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");m?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):f(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):f(t,e)}))}}()}},[[533,1,2]]]);
//# sourceMappingURL=main.7b3d3ff5.chunk.js.map